"use strict";
exports.__esModule = true;
var passport = require("passport");
var standard_1 = require("./middlewares/standard");
var validators_1 = require("./config/validators");
var HomeController = require("./controller/home");
var RegistrationController = require("./controller/Registration");
var LoginController = require("./controller/Login");
var express = require('express');
var app = express();
app.use(standard_1.CORS);
app.use(standard_1.jsonParser);
app.use(standard_1.urlEncoder);
app.use(standard_1.expressFlash());
app.use(passport.initialize());
app.get('/', HomeController.index);
app.post('/signup', validators_1.UserRegPostVal, standard_1.ValidationMiddleware, RegistrationController.SignUpEmail);
app.post('/login', validators_1.UserLoginPostVal, standard_1.ValidationMiddleware, LoginController.LogInEmail);
app.post('/check', standard_1.Auth, HomeController.index);
app.get("/auth/facebook", passport.authenticate("facebook", { scope: ["email", "public_profile"] }));
exports["default"] = app;
